# SOLID

- SRP(Single Responsibility Principle) : 단일 책임 원칙
- OCP(Open Closed Principle) : 오픈 폐쇄 원칙
- LSP(Liskov Substitution Principle) : 리스코프 치환 원칙
- ISP(Interface Segregation Principle) : 인터페이스 분리 원칙
- DIP(Dependency Inversion Principle) : 의존 역전 원칙

## 결합도와 응집도

- 좋은 소프트웨어 설계를 위해서는 결합도(Coupling)는 낮추고 응집도(Cohesion)는 높이는 것이 바람직하다.
- 결합도는 모듈(클래스) 간의 상호 의존 정도로서 결합도가 낮으면 모듈 간의 상호 의존성이 줄어들어 객체의 재사용이나 수정, 유지 보수가 용이하다
- 응집도는 하나의 모듈 내부에 존재하는 구성 요소들의 기능적 관련성으로, 응집도가 높은 모듈은 하나의 책임에 집중하고 독립성이 높아져 재사용이나 기능의 수정, 유지보수가 용이하다.

## SRP - 단일 책임 원칙

- "어떤 클래스를 변경해야 하는 이유는 오직 하나뿐이어야 한다." - 로버트 C. 마틴
- 한 클래스는 하나의 책임만 가져야한다
- 역할이나 책임을 분리하는 것

### SRP가 안지켜진 사례

- 변수레벨
    - 하나의 속성이 여러 의미를 갖는 경우
    - 어떤 곳에서는 쓰고, 어떤 곳에선 안쓰는 속성이 있는 경우
- 메소드레벨
    - 분기처리를 위한 if문이 많을 경우

## OCP - 개방 폐쇄 원칙

- "소프트웨어 엔티티(클래스, 모듈, 함수 등)는 확장에 대해서는 열려 있어야 하지만 변경에 대해서는 닫혀 있어야 한다"
- "자신의 확장에는 열려있고, 주변의 변화에 대해서는 닫혀 있어야 한다."
- 인터페이스를 통해 구현하여 해결
- EX) 편의점에서 판매원이 바뀐다 하여도 손님은 상품을 구매하는데 지장이 없다. 직원은 판매 인터페이스를 구현해야하기 때문이고 손님은 판매 인터페이스를 구현하면 되기 때문에 판매 직원이 누구던 지장이 없게 된다.

## LSP - 리스코프 치환 원칙

- "서브 타입은 언제나 자신의 기반 타입(base type)으로 교체할 수 있어야 한다"
- "하위 클래스의 인스턴스는 상위형 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는 데 문제가 없어야 한다"
- 객체 지향의 상속은 다음의 조건을 만족해야 한다
    - 하위 클래스 is a kind of 상위 클래스
        - 하위 분류는 상위 분류의 한 종류다
    - 구현 클래스 is able to 인터페이스
        - 구현 분류는 인터페이스할 수 있어야 한다
- 객체 지향의 상속 조건을 지킨 프로그램이라면 이미 리스코프 치환 원칙을 지키고 있다.  그렇지 않은 코드가 존재할 떄 상속이 조직도나 계층도 형태로 구축된 경우이다.
- "인터페이스할 수 있어야 한다" 표현은 인터페이스 명에 따라 읽으면 쉽게 이해할 수 있다.
    - AutoCloseable
        - 자동으로 닫힐 수 있어야 한다
    - Appendable
        - 덧붙일 수 있어야 한다
    - Cloneable
        - 복제할 수 있어야 한다
    - Runnable
        - 실행할 수 있어야 한다

## ISP - 인터페이스 분리 원칙

- "클라이언트는 자신이 사용하지 않는 메서드에 의존 관계를 맺으면 안 된다"
- 클라이언트는 자신이 사용하지 않는 메소드에 의존 관계를 맺으면 안된다. ISP는 SRP와 비슷하지만 인터페이스를 통한 다른 해결책을 제안하고 있다. 예를들어 `class 사람 implements 군인`이면 `군인 홍길동 = new 사람()`을 통해 군인 인터페이스의 메소드만을 사용하도록 제한하는 것이다. SRP였다면 class를 나눠버렸겠지만.. 일반적으론 ISP보다 SRP 할 것이 권장된다.

## DIP - 의존 역전 원칙

- "고차원 모듈은 저차원 모듈에 의존하면 안된다. 이 두 모듈 모두 다른 추상화된 것에 의존해야 한다."
- "추상화된 것은 구체적인 것에 의존하면 안 된다."
- "자주 변경되는 구체(Concrete) 클래스에 의존하지 마라"
- "자신보다 변하기 쉬운 것에 의존하지 마라"
- 상위 클래스일수록 , 인터페이스일수록, 추상클래스일수록 변하지 않을 가능성이 높기에 하위 클래스나 구체 클래스가 아닌 상위 클래스, 인터페이스, 추상 클래스에 의존하라는 것이 바로 의존 역전 원칙이다.****